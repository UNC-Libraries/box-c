<iframe id="upload_file_frame" name="upload_file_frame" height="0" width="0" style="display: none;"></iframe>
<%
// Settings, if present, are double encoded
var settings = { sortType: 'default,normal', displayType: 'list-display', worksOnly: false };
if (metadata.collectionDisplaySettings !== undefined) {
    settings = JSON.parse(metadata.collectionDisplaySettings)
}
%>
<form id="edit_collection_display_settings" class="edit_form edit_collection_display_settings_form">
    <div class="form_field">
        <label for="sort_type">Sort Type:</label>
        <select id="sort_type" name="sort_type">
            <option value="default,normal" <%= (settings.sortType === 'default,normal') ? "selected" : "" %>>Sort by Relevance</option>
            <option value="title,normal" <%= (settings.sortType == 'title,normal') ? "selected" : "" %>>Title A-Z</option>
            <option value="title,reverse" <%= (settings.sortType == 'title,reverse') ? "selected" : "" %>>Title Z-A</option>
            <option value="dateCreated,normal" <%= (settings.sortType == 'dateCreated,normal') ? "selected" : "" %>>Date Created (newest)</option>
            <option value="dateCreated,reverse" <%= (settings.sortType == 'dateCreated,reverse') ? "selected" : "" %>>Date Created (oldest)</option>
            <option value="dateAdded,normal" <%= (settings.sortType == 'dateAdded,normal') ? "selected" : "" %>>Date Deposited (newest)</option>
            <option value="dateAdded,reverse" <%= (settings.sortType == 'dateAdded,reverse') ? "selected" : "" %>>Date Deposited (oldest)</option>
        </select>
    </div>
    <div class="form_field">
        <fieldset>
            <legend>Display Type:</legend>
            <p>
                <input type="radio" id="list_view" name="display_type" value="list-display" <%= (settings.displayType == 'list-display') ? "checked" : "" %> />
                <label for="list_view">List View</label>

                <input type="radio" id="gallery_view" name="display_type" value="gallery-display" <%= (settings.displayType == 'gallery-display') ? "checked" : "" %> />
                <label for="gallery_view">Gallery View</label>
            </p>
        </fieldset>
    </div>
    <div class="form_field">
        <fieldset>
            <legend>Display Works Only:</legend>
            <p>
                <input type="checkbox" id="display_works_only" name="display_works_only" <%= (settings.worksOnly) ? "checked" : "" %> />
                <label for="display_works_only">Works only?</label>
            </p>
        </fieldset>
    </div>
    <input type="hidden" value="<%= metadata.id %>" id="collection_id" name="collection_id"/>
    <div class="update_field">
        <input type="submit" id="edit_collection_display_settings_submit_button" class="update_button" value="Save Changes" />
    </div>
    <div class="errors">
        <h3>Errors</h3>
        <div class="error_stack"></div>
    </div>
</form>
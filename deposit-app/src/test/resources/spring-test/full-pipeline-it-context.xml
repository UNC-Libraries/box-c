<?xml version="1.0" encoding="UTF-8"?>
<beans xmlns="http://www.springframework.org/schema/beans"
       xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance"
       xsi:schemaLocation="http://www.springframework.org/schema/beans
        https://www.springframework.org/schema/beans/spring-beans.xsd">

    <bean id="clamClient" class="org.mockito.Mockito" factory-method="mock" primary="true">
        <constructor-arg type="java.lang.Class" value="fi.solita.clamav.ClamAVClient" />
    </bean>

    <bean id="depositEmailHandler" class="org.mockito.Mockito" factory-method="mock" primary="true">
        <constructor-arg type="java.lang.Class" value="edu.unc.lib.boxc.deposit.work.DepositEmailHandler" />
    </bean>

    <!-- Duplicating depositCoordinator without the init method call so that it can be triggered manually in tests -->
    <bean id="depositCoordinator" class="edu.unc.lib.boxc.deposit.pipeline.DepositCoordinator" primary="true">
        <property name="depositOperationMessageService" ref="depositOperationMessageService" />
        <property name="jobSuccessHandler" ref="jobSuccessHandler" />
        <property name="depositResumeHandler" ref="depositResumeHandler" />
        <property name="depositRegisterHandler" ref="depositRegisterHandler" />
        <property name="depositPauseHandler" ref="depositPauseHandler" />
        <property name="jobFailureHandler" ref="jobFailureHandler" />
        <property name="jobInterruptedHandler" ref="jobInterruptedHandler" />
        <property name="activeDeposits" ref="activeDeposits" />
        <property name="depositStatusFactory" ref="depositStatusFactory" />
        <property name="depositJobMessageFactory" ref="depositJobMessageFactory" />
        <property name="depositJobMessageService" ref="depositJobMessageService" />
        <property name="pipelineStatusFactory" ref="pipelineStatusFactory" />
    </bean>
</beans>